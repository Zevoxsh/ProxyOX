global:
  log-level: info
  use-uvloop: false
  timeout: 300
  max-connections: 100

frontends:
  - name: tcp-fe
    bind: 0.0.0.0:443
    mode: tcp
    default_backend: tcp-server
    # üî• MODE AUTO - D√©tection automatique HTTP/HTTPS (Recommand√©!)
    # Le proxy d√©tecte automatiquement si Cloudflare envoie HTTP ou HTTPS
    # Fonctionne avec Cloudflare Flexible ET Full sans rien changer!
    auto: true  # ‚Üê D√©tection automatique activ√©e
    
    # OU configuration manuelle:
    # Pour Cloudflare FLEXIBLE SSL (HTTP sur port 443):
    #   auto: false
    #   flexible: false
    #
    # Pour Cloudflare FULL SSL (HTTPS sur port 443):
    #   auto: false
    #   flexible: true
    
    # Optionnel : certificats personnalis√©s (pour HTTPS)
    # certfile: /path/to/cert.pem
    # keyfile: /path/to/key.pem

  - name: udp-fe
    bind: 127.0.0.1:9001
    mode: udp
    default_backend: udp-server

  - name: http-fe
    bind: 127.0.0.1:8081
    mode: http
    default_backend: http-server

backends:
  - name: tcp-server
    server: 10.10.0.201:9443

  - name: udp-server
    server: 10.10.0.201:9443

  - name: http-server
    server: 10.10.0.200:8006
